<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.0263a7a090c5769c40ba.css">@import url(https://fonts.googleapis.com/css?family=Work+Sans:400,700);code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body,html{font-family:Work Sans,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{text-decoration:none;background-color:transparent;-webkit-text-decoration-skip:objects}a,a:active,a:focus,a:hover,a:visited{color:#19508e}a:active,a:hover{outline-width:0;text-decoration:underline}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible;width:100%;display:block}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{padding:0;margin:0 0 1.45rem;color:inherit;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem;overflow-y:visible;overflow-x:auto}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}</style><meta name="generator" content="Gatsby 2.20.10"/><title data-react-helmet="true">CIS 197 | Homework 2: Async, Events, and Callbacks</title><meta data-react-helmet="true" name="description" content="Student-taught 19X course on JavaScript web development at the University of Pennsylvania."/><meta data-react-helmet="true" property="og:title" content="Homework 2: Async, Events, and Callbacks"/><meta data-react-helmet="true" property="og:description" content="Student-taught 19X course on JavaScript web development at the University of Pennsylvania."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:image"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Cameron Cabo &lt;ccabo@seas.upenn.edu&gt;"/><meta data-react-helmet="true" name="twitter:title" content="Homework 2: Async, Events, and Callbacks"/><meta data-react-helmet="true" name="twitter:description" content="Student-taught 19X course on JavaScript web development at the University of Pennsylvania."/><meta data-react-helmet="true" property="twitter:image"/><style data-styled="ealrCq cdJxCD fkHZL iSdMQU igtEjC jPZtZS eiABl dMkSNv iOQZld bIEPXk iVpuvT ehTWzq hsiMIB gZmsVQ iOLuiv fbBSou bvDASM exNhrp" data-styled-version="4.4.1">
/* sc-component-id: Logo__Wrapper-sc-10atma9-0 */
.fkHZL{width:3.5rem;height:auto;margin-bottom:10vh;} @media screen and (max-width:992px){.fkHZL{display:inline-block;margin-bottom:0;margin-right:1rem;width:auto;height:calc(26px + 0.5rem);}}
/* sc-component-id: Links-sc-1lx20av-0 */
@media screen and (max-width:992px){.eiABl{max-height:0;}.eiABl a{display:block;margin:0.5rem 0;font-size:1.2rem;}}
/* sc-component-id: Links__InternalLink-sc-1lx20av-1 */
.dMkSNv{width:100%;color:#8C8D91;-webkit-text-decoration:none !important;text-decoration:none !important;width:100%;display:block;padding:0.5rem 0;} .dMkSNv:visited{color:#8C8D91;} .dMkSNv:active,.dMkSNv:focus,.dMkSNv:hover{color:#47484C;} .dMkSNv:active::after,.dMkSNv:focus::after,.dMkSNv:hover::after{content:"→";float:right;}
/* sc-component-id: Links__ExternalLink-sc-1lx20av-2 */
.iOQZld{width:100%;color:#8C8D91;-webkit-text-decoration:none !important;text-decoration:none !important;width:100%;display:block;padding:0.5rem 0;} .iOQZld:visited{color:#8C8D91;} .iOQZld:active,.iOQZld:focus,.iOQZld:hover{color:#47484C;} .iOQZld:active::after,.iOQZld:focus::after,.iOQZld:hover::after{content:"→";float:right;}
/* sc-component-id: Footer__Wrapper-pau7fb-0 */
@media screen and (max-width:992px){.bIEPXk{max-height:0;}}
/* sc-component-id: Footer-pau7fb-1 */
.iVpuvT{width:100%;padding:1rem 0;color:#8C8D91;font-size:0.8rem;position:absolute;bottom:0;} @media screen and (max-width:992px){.iVpuvT{position:relative;padding:1rem 0 0.5rem 0;}}
/* sc-component-id: Bars__Wrapper-sc-1no3yli-0 */
.iSdMQU{padding:10px 1rem;cursor:pointer;position:absolute;right:0;top:0.5rem;} .iSdMQU:hover{opacity:0.5;} @media screen and (min-width:992px){.iSdMQU{display:none;}}
/* sc-component-id: Bars__Bar-sc-1no3yli-1 */
.igtEjC{width:16px;height:2px;margin-bottom:3px;display:block;background:#000;}
/* sc-component-id: Header__Nav-sc-1yg5ab7-0 */
.cdJxCD{position:fixed;width:20%;padding:calc(1rem + 2.5%) 1rem;border-right:1px solid rgba(0,0,0,0.1);min-height:100vh;overflow-y:auto;overflow-x:hidden;} @media screen and (max-width:992px){.cdJxCD{width:100%;padding:0.5rem 1rem;border-right:0;border-bottom:1px solid rgba(0,0,0,0.1);min-height:0;z-index:1300;background:#FFF;overflow-y:hidden;max-height:53px;}}
/* sc-component-id: Header__NavSpacer-sc-1yg5ab7-1 */
.ehTWzq{width:20%;} @media screen and (max-width:992px){.ehTWzq{width:100%;height:53px;}}
/* sc-component-id: Header__LogoText-sc-1yg5ab7-2 */
.jPZtZS{color:#000 !important;-webkit-text-decoration:none !important;text-decoration:none !important;font-size:2rem;font-weight:bold;margin-bottom:1.5rem;display:block;} @media screen and (max-width:992px){.jPZtZS{display:inline-block;vertical-align:top;margin-top:0.375rem;margin-bottom:0;font-size:1.25rem;}}
/* sc-component-id: Breadcrumbs-sc-17kbl3t-0 */
.gZmsVQ{display:inline-block;margin-bottom:1.5rem;background:#f4f5f7;padding:0.5rem 0 0.5rem 1rem;border-radius:4px;} .gZmsVQ a{margin-right:1rem;color:#8C8D91 !important;-webkit-text-decoration:none;text-decoration:none;font-size:0.8rem;} .gZmsVQ a:hover,.gZmsVQ a:focus,.gZmsVQ a:active{color:#47484C !important;-webkit-text-decoration:none;text-decoration:none;}
/* sc-component-id: Breadcrumbs__Home-sc-17kbl3t-1 */
.iOLuiv{height:0.8rem;width:0.8rem;display:inline-block;margin:0;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMDAgODkuOCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAwIDg5Ljg7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojOEM4RDkxO30KPC9zdHlsZT4KPHRpdGxlPkhvbWU8L3RpdGxlPgo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTAwLDQxLjFjMC4xLTMuMy0xLjQtNi41LTQuMS04LjRjLTEyLjktMTAtMjUuOC0yMC0zOC43LTMwLjFDNTMtMC45LDQ3LTAuOSw0Mi45LDIuNgoJYy0xMywxMC4xLTI2LDIwLjItMzguOSwzMC4zYy0xLjgsMS4zLTMuMSwzLjMtMy42LDUuNUMwLjEsNDAuMiwwLDQyLDAsNDMuOGMtMC4xLDQuMiwyLjMsNi43LDYuNiw2LjdjMi4xLDAsNC4zLDAsNi41LDB2Mi4yCgljMCw0LjgsMCw5LjUsMCwxNC4zdjExLjZjMCwwLjEsMCwwLjIsMCwwLjJjMCwwLjUsMCwxLDAsMS41YzAsNS4yLDQuMiw5LjUsOS41LDkuNWMwLDAsMCwwLDAuMSwwaDExLjloMmMwLjMsMCwwLjUsMCwwLjgsMGgzOS44CgljNS4yLDAuMSw5LjYtNC4xLDkuNy05LjNjMC0wLjEsMC0wLjMsMC0wLjRjMC0wLjUsMC0xLDAtMS40YzAsMCwwLTAuMSwwLTAuMlY2NS45YzAsMCwwLTAuMSwwLTAuMWMwLTQuNSwwLTksMC0xMy41di0xLjgKCWMyLjQsMCw0LjYsMCw2LjgsMGMzLjMsMC4yLDYuMS0yLjQsNi4zLTUuN2MwLTAuMiwwLTAuNCwwLTAuNkMxMDAsNDMuMiwxMDAsNDIuMiwxMDAsNDEuMXoiLz4KPC9zdmc+Cg==);opacity:0.8;background-position:center;background-repeat:no-repeat;background-size:contain;} .iOLuiv:hover{opacity:1;}
/* sc-component-id: Breadcrumbs__Chevron-sc-17kbl3t-2 */
.fbBSou{height:0.8rem;width:0.4rem;display:inline-block;margin:0 1rem 0 0;opacity:0.5;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAyNyA0NyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjcgNDc7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojOEM4RDkxO30KPC9zdHlsZT4KPHRpdGxlPkV4dHJhIEV4dHJhIEJvbGQgQ2hldnJvbiBMZWZ0PC90aXRsZT4KPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CjxnPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTEsNDFjLTEuNCwxLjQtMS40LDMuNiwwLDQuOWMxLjQsMS40LDMuNiwxLjQsNC45LDBsMjAtMjBjMS40LTEuNCwxLjQtMy42LDAtNC45TDYsMUM0LjYtMC4zLDIuNC0wLjMsMSwxCgkJCUMtMC4zLDIuNC0wLjMsNC42LDEsNmwxNy41LDE3LjVMMSw0MXoiLz4KCTwvZz4KPC9nPgo8L3N2Zz4K);background-position:center;background-repeat:no-repeat;background-size:contain;}
/* sc-component-id: Breadcrumbs__StyledLink-sc-17kbl3t-3 */
.bvDASM{text-transform:capitalize;}
/* sc-component-id: Layout__Wrapper-lyeqhw-0 */
.ealrCq{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;} @media screen and (max-width:992px){.ealrCq{display:block;}}
/* sc-component-id: Layout__Content-lyeqhw-1 */
.hsiMIB{-webkit-flex:1;-ms-flex:1;flex:1;padding:calc(1rem + 2.5%) calc(5% + 1rem);min-height:calc(100vh - 60px);display:block;box-sizing:border-box;position:relative;width:80vw;} @media screen and (max-width:992px){.hsiMIB{width:100%;}} .hsiMIB hr{background:rgba(0,0,0,0.1);height:3px;} .hsiMIB pre{max-width:100%;background:#f4f5f7 !important;margin:0;margin-bottom:1.45rem;} .hsiMIB pre .token.operator{background:#f4f5f7 !important;} .hsiMIB pre::before{content:'' !important;display:none;} .hsiMIB pre::after{content:'' !important;display:none;} .hsiMIB pre code{padding:0 !important;} .hsiMIB code{background:#f4f5f7 !important;line-height:1.45rem;padding:0.1em 0.3em !important;} .hsiMIB code::before{content:'' !important;display:none;} .hsiMIB code::after{content:'' !important;display:none;} .hsiMIB tbody tr:hover{background:#f4f5f7;}
/* sc-component-id: Markdown__Timestamp-sc-1ihrd7h-0 */
.exNhrp{color:#8C8D91;opacity:0.8;margin-bottom:calc(2rem + 2.5%);}</style><link rel="icon" href="/icons/icon-48x48.png?v=241313ef2afc415e913b781f93a8a90b"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#000000"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=241313ef2afc415e913b781f93a8a90b"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=241313ef2afc415e913b781f93a8a90b"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=241313ef2afc415e913b781f93a8a90b"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=241313ef2afc415e913b781f93a8a90b"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=241313ef2afc415e913b781f93a8a90b"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=241313ef2afc415e913b781f93a8a90b"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=241313ef2afc415e913b781f93a8a90b"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=241313ef2afc415e913b781f93a8a90b"/><link as="script" rel="preload" href="/app-5a45acf311b2d71255d9.js"/><link as="script" rel="preload" href="/component---src-templates-markdown-js-6312d8383cbe8dfd04c0.js"/><link as="script" rel="preload" href="/commons-71c840ee6062b3cdadb9.js"/><link as="script" rel="preload" href="/styles-36681512479a843831b0.js"/><link as="script" rel="preload" href="/framework-e43bc979b16dd68f6b5c.js"/><link as="script" rel="preload" href="/webpack-runtime-5ccb39dae77b0d8e075c.js"/><link as="fetch" rel="preload" href="/page-data/assignments/2/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="Layout__Wrapper-lyeqhw-0 ealrCq"><nav class="Header__Nav-sc-1yg5ab7-0 cdJxCD"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAyMTAuNSAyMzUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIxMC41IDIzNTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuNDcxNTtzdHJva2UtbWl0ZXJsaW1pdDozLjg2MzY7fQoJLnN0MXtmaWxsOiNGRkZGRkY7fQoJLnN0MntmaWxsOm5vbmU7c3Ryb2tlOiNEREREREQ7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fQoJLnN0M3tmaWxsOiM5OTAwMDA7fQoJLnN0NHtmaWxsOiMwMTFGNUI7fQoJLnN0NXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuMjUyMjtzdHJva2UtbWl0ZXJsaW1pdDozLjg2MzY7fQoJLnN0NntmaWxsOiMwMTFGNUI7c3Ryb2tlOiMwMTFGNUI7c3Ryb2tlLXdpZHRoOjM7fQoJLnN0N3tmaWxsOm5vbmU7c3Ryb2tlOiNDNkM2QzY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fQo8L3N0eWxlPgo8Zz4KCTxnPgoJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yMDIuOCwyIi8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMywyLjloMjA0LjdjMCwwLDAsMTAwLjUsMCwxMDIuM2MtMS40LDgzLjQtOTQuOCwxMjcuMi0xMDYuNiwxMjYuOEM4OC44LDIzMS42LDIuNywxODguNywzLDEwNC44CgkJCUMzLDEwMy4zLDMsMi45LDMsMi45eiIvPgoJCTxnPgoJCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMTMuOCwxNTUuMWM3LjksMTYuNywxNy44LDMwLjIsMzEuNiw0MS42bDYwLjItNjAuOGw1Ny45LDU5LjRjMTEuOS0xMC45LDIzLjYtMjQuMSwzMS45LTM5LjhMMTA1LjUsNjkKCQkJCWwtOTEuMiw4Ni4zTDEzLjgsMTU1LjF6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MyIgZD0iTTMsNjUuMUMzLjMsNjUuNCwzLDIuOSwzLDIuOWgyMDQuNWMwLDAsMCwzMy41LDAsNjIuMkgzeiIvPgoJPC9nPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTUyLjMsMS4yIi8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNDYuMSwxLjkiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik02LjgsMS45Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjAuNCwyLjQiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zMy42LDEuOSIvPgoJPC9nPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTE2My45LDEuOSIvPgoJPC9nPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTE3Ni42LDIuOSIvPgoJPC9nPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTE4OS42LDIuNyIvPgoJPC9nPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTQwLjQsMS4zIi8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjcuMSwxLjkiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMy42LDEuMyIvPgoJPC9nPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTEwNS4zLDUwLjYiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik03OS42LDU1LjQiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik02Ni42LDU4LjYiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMTkuMSw1Ny41Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTk2LjMsMi4xIi8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTcwLjYsMS4zIi8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTgzLjMsMi40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTU3LjMsMS4zIi8+Cgk8L2c+Cgk8Zz4KCQk8cmVjdCB4PSIzIiB5PSI2My42IiBjbGFzcz0ic3Q0IiB3aWR0aD0iMjA0LjUiIGhlaWdodD0iNC42Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNOTguNyw0Ny4zIi8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNzIuOSw1OS4xIi8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNODUuNiw0OS4zIi8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNTkuMSwxLjkiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMzcuMSwzMy42Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTI0LjYsNTguOSIvPgoJPC9nPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTkyLjUsNDYuMSIvPgoJPC9nPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTE0My45LDU1LjciLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xMzEuNSw0MC4yIi8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTEyLjYsNTQuMSIvPgoJPC9nPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTEzNyw1OC43Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3Q1IiBkPSJNNDEuMSwxOTMuMyIvPgoJPC9nPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0NiIgZD0iTTEwMS4xLDIzMy41Yy0wLjEsMC0wLjEsMC0wLjIsMGMtMTEuNi0wLjQtOTkuNy00My42LTk5LjQtMTI4LjdjMC0xLjUsMC0xMDEuOSwwLTEwMS45VjEuNUgyMDl2MTAzLjcKCQkJYy0wLjcsNDEtMjMuNiw3MS4zLTQyLjcsODkuNEMxMzkuNSwyMjAuMiwxMDguNCwyMzMuNSwxMDEuMSwyMzMuNXogTTQuMyw0LjNjMCwxMi4yLDAsOTkuMSwwLDEwMC41CgkJCUM0LjEsMTg4LjEsODkuOCwyMzAuMywxMDEsMjMwLjdoMC4xYzYuMSwwLDM2LjYtMTIuOCw2My4yLTM4YzE4LjctMTcuOCw0MS4xLTQ3LjQsNDEuOC04Ny40VjQuM0g0LjN6Ii8+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggY2xhc3M9InN0MiIgZD0iTTM5LjMsMTUwLjhjMC05LjUsOC0xNy4yLDE3LjgtMTcuMmM5LjksMCwxNy44LDcuNywxNy44LDE3LjJzLTgsMTcuMi0xNy44LDE3LjJTMzkuMywxNjAuMywzOS4zLDE1MC44eiIvPgoJCTwvZz4KCQk8Zz4KCQkJPHBhdGggY2xhc3M9InN0NyIgZD0iTTU3LjEsMTUwLjgiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggY2xhc3M9InN0MiIgZD0iTTg4LjQsMTA5LjVjMC05LjUsOC0xNy4yLDE3LjgtMTcuMmM5LjksMCwxNy44LDcuNywxNy44LDE3LjJzLTgsMTcuMi0xNy44LDE3LjJTODguNCwxMTksODguNCwxMDkuNXoiLz4KCQk8L2c+CgkJPGc+CgkJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0xMDYuMiwxMDkuNSIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMTM0LjcsMTUwLjhjMC05LjUsOC0xNy4yLDE3LjgtMTcuMmM5LjksMCwxNy44LDcuNywxNy44LDE3LjJzLTgsMTcuMi0xNy44LDE3LjIKCQkJCUMxNDIuNiwxNjgsMTM0LjcsMTYwLjMsMTM0LjcsMTUwLjh6Ii8+CgkJPC9nPgoJCTxnPgoJCQk8cGF0aCBjbGFzcz0ic3Q3IiBkPSJNMTUyLjUsMTUwLjgiLz4KCQk8L2c+Cgk8L2c+CjwvZz4KPHBhdGggY2xhc3M9InN0NCIgZD0iTTEyMS43LDE0OS4yYzQuMiw2LjksOS43LDExLjksMTkuMywxMS45YzguMSwwLDEzLjMtNC4xLDEzLjMtOS43YzAtNi43LTUuMy05LjEtMTQuMy0xM2wtNC45LTIuMQoJYy0xNC4xLTYtMjMuNS0xMy42LTIzLjUtMjkuNWMwLTE0LjcsMTEuMi0yNS45LDI4LjctMjUuOWMxMi40LDAsMjEuNCw0LjMsMjcuOCwxNS43bC0xNS4yLDkuOGMtMy40LTYtNy04LjQtMTIuNi04LjQKCWMtNS43LDAtOS40LDMuNi05LjQsOC40YzAsNS45LDMuNiw4LjMsMTIsMTEuOWw0LjksMi4xYzE2LjYsNy4xLDI2LDE0LjQsMjYsMzAuOGMwLDE3LjYtMTMuOCwyNy4zLTMyLjQsMjcuMwoJYy0xOC4yLDAtMjkuOS04LjctMzUuNy0yMEwxMjEuNywxNDkuMnogTTUyLjUsMTUwLjljMy4xLDUuNSw1LjksMTAuMSwxMi42LDEwLjFjNi40LDAsMTAuNS0yLjUsMTAuNS0xMi4zVjgyLjFoMTkuNnY2Ni44CgljMCwyMC4zLTExLjksMjkuNS0yOS4yLDI5LjVjLTE1LjcsMC0yNC44LTguMS0yOS40LTE3LjlMNTIuNSwxNTAuOXoiLz4KPC9zdmc+Cg==" alt="CIS 197 Logo" class="Logo__Wrapper-sc-10atma9-0 fkHZL"/><div class="Bars__Wrapper-sc-1no3yli-0 iSdMQU"><span class="Bars__Bar-sc-1no3yli-1 igtEjC"></span><span class="Bars__Bar-sc-1no3yli-1 igtEjC"></span><span class="Bars__Bar-sc-1no3yli-1 igtEjC"></span></div><a class="Header__LogoText-sc-1yg5ab7-2 jPZtZS" href="/">CIS 197</a><div class="Links-sc-1lx20av-0 eiABl"><a class="Links__InternalLink-sc-1lx20av-1 dMkSNv" href="/">Home</a><a class="Links__InternalLink-sc-1lx20av-1 dMkSNv" href="/assignments">Assignments</a><a class="Links__InternalLink-sc-1lx20av-1 dMkSNv" href="/lectures">Lectures</a><a class="Links__InternalLink-sc-1lx20av-1 dMkSNv" href="/staff">Staff</a><a href="https://piazza.com/class/jr6qcpostx35b8" target="_BLANK" class="Links__ExternalLink-sc-1lx20av-2 iOQZld">Piazza</a></div><div class="Footer__Wrapper-pau7fb-0 bIEPXk"><footer class="Footer-pau7fb-1 iVpuvT">CIS 197 Staff © <!-- -->2020</footer></div></nav><div class="Header__NavSpacer-sc-1yg5ab7-1 ehTWzq"></div><div class="Layout__Content-lyeqhw-1 hsiMIB"><div class="Breadcrumbs-sc-17kbl3t-0 gZmsVQ"><a href="/"><div class="Breadcrumbs__Home-sc-17kbl3t-1 iOLuiv"></div></a><span><div class="Breadcrumbs__Chevron-sc-17kbl3t-2 fbBSou"></div><a class="Breadcrumbs__StyledLink-sc-17kbl3t-3 bvDASM" href="/assignments">assignments</a></span><span><div class="Breadcrumbs__Chevron-sc-17kbl3t-2 fbBSou"></div><a aria-current="page" class="Breadcrumbs__StyledLink-sc-17kbl3t-3 bvDASM" href="/assignments/2">2</a></span></div><h1>Homework 2: Async, Events, and Callbacks</h1><p class="Markdown__Timestamp-sc-1ihrd7h-0 exNhrp">Last updated: <!-- -->January 29, 2019</p><div><p>Due <strong>Tuesday, September 18, 11:59:59pm</strong>.</p>
<p>Download the implementation stub <a href="/~cis197/assignments/build/CIS197_HW2.zip">here</a>.</p>
<h3>Before starting this assignment</h3>
<p>Review <a href="/~cis197/lectures/lecture2">Lecture 2</a>.</p>
<p>Install the async, request, and sax libraries by running <code class="language-text">npm install</code> in the root of your homework directory.</p>
<p>We will be interacting with our own simplified version of the New York Times API (our own wrapper around the API calls) to obtain metadata from articles published on their website. If you haven't worked with APIs before, here's a short article that explains <a href="http://www.makeuseof.com/tag/api-good-technology-explained/">what they are</a>.</p>
<h3><strong>IN ORDER TO PROCEED, YOU NEED TO GET AN API KEY FROM THE NEW YORK TIMES WEBSITE AS SOON AS POSSIBLE</strong></h3>
<p><strong>Instructions</strong></p>
<ul>
<li>Visit the NYT developer website <a href="https://developer.nytimes.com/accounts/create">by clicking here</a></li>
<li>Create an account (and verify your email)</li>
<li>Select "My Apps" from the account dropdown at the top right</li>
<li>Click "Create new App"</li>
<li>
<p>Fill out App Name and Description. Make sure that your Description makes sense. Select the following APIs:</p>
<ul>
<li>Most Popular API</li>
<li>Article Search API</li>
</ul>
</li>
<li>Copy your API key, which is available under "API Keys"</li>
<li>Paste this API key into <code class="language-text">api/config.js</code> (in your project directory) and change the string <code class="language-text">YOUR_API_KEY_HERE</code> to whatever your api key ends up being. It should still look something like this</li>
</ul>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  apiKey<span class="token operator">:</span> <span class="token string">'NoticeIStillHaveQuotesAroundThisString'</span>
<span class="token punctuation">}</span></code></pre></div>
<p><strong>Typically the NYT team will send you an API key within 30 minutes of submitting the form, but it is best to get issues resolved earlier rather than later.</strong></p>
<h2>Overview: API Interactions</h2>
<p>In this assignment, you'll be writing a Node script that uses callback functions to interface with the NYT API. The final product will output the five topics that are currently most popular among NYT readers, as well as links to recent articles related to each of the topics. This kind of script can serve as an easy way for someone without a lot of time to keep up with trending news.</p>
<p>You'll need to accomplish three main tasks:</p>
<ol>
<li>Fetch the weekly most viewed articles using the NYT Most Popular/Article Search API.</li>
<li>Determine the five most frequently used keywords using the XML parser <a href="https://github.com/isaacs/sax-js">sax.js</a>.</li>
<li>Fetch and display articles related to the keywords using the NYT Search API.</li>
</ol>
<p>Although there are quite a few moving parts involved, the async.js library will help us pull the methods you write together into a streamlined, easily refactored script.</p>
<hr>
<h2>Part 1: Fetching popular articles</h2>
<p><strong><code class="language-text">pullTrendingArticles.js</code></strong></p>
<p>In order to obtain the data we need, we'll use the <a href="https://github.com/request/request">request</a> library. Conveniently, we have put the logic to handle all this low level request logic within <code class="language-text">api/nyt.js</code>. From your end, all you need to interact with is the resulting functions from the <code class="language-text">nyt</code> wrapper we gave you.</p>
<p>But regardless, it is useful to cover. Since we haven't covered HTTP in class yet, you don't need to worry about how request is communicating with NYT servers.</p>
<p>Here's a simple example of request in action:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> request <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'request'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'http://www.google.com'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> response<span class="token punctuation">,</span> body</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>error <span class="token operator">&amp;&amp;</span> response<span class="token punctuation">.</span>statusCode <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Show the HTML for the Google homepage.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Notice how <code class="language-text">request</code> is asynchronous: after it receives a response from the URL (the first argument), it passes the information to a callback function (the second argument). You will be making a request to the New York Times API Servers (you can see the exact urls in <code class="language-text">api/nyt.js</code>) in order to get the data you need.</p>
<h3>Explanation of NYT Wrapper Library</h3>
<p>For this assignment, we made a wrapper around the API requests in <code class="language-text">api/nyt.js</code> (using the requests library). So if you wish to do a call to get the most popular articles and their metadata, you can just do the following</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> nyt <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./api/nyt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

nyt<span class="token punctuation">.</span><span class="token function">mostPopular</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> res<span class="token punctuation">,</span> body</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -> 200</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -> all the content</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -> null</span>
<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre></div>
<p><strong>TODO:</strong> Write <code class="language-text">pullTrendingArticles</code>.</p>
<p>This function will get metadata of the most popular articles by calling <code class="language-text">nyt.mostPopular</code> and handling its response via a callback (look at the code example above to see what the function signature of your callback should be). Notice that the <code class="language-text">pullTrendingArticles</code> function header accepts a <code class="language-text">callback</code> argument.</p>
<p>Note that we need to handle errors from the <code class="language-text">nyt.mostPopular</code> request as well. For instance, what if the internet cuts out while the script is running? For all the methods in this assignment, the callback function (for the <code class="language-text">nyt.mostPopular</code> call) will take an error (possibly null) as the first argument, and any actual data as subsequent arguments. If there weren't any errors and the response status code is <code class="language-text">200</code>, pass <code class="language-text">null</code> and the response's <code class="language-text">body</code> to the callback. For all other cases, pass an error to the callback. It is possible that the error is <code class="language-text">null</code> and <code class="language-text">response.statusCode</code> is not 200; in these cases, make sure to create and pass an error to the callback function. As a refresher, we create errors like so</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> error <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"SOME USEFULL ERROR MESSAGE"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>To test out your functionality: Create a file called <code class="language-text">testHw2.js</code> (or whatever you want) with the following contents:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> pullTrendingArticles <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./pullTrendingArticles'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// import the function from the pullTrendingArticles file</span>

<span class="token function">pullTrendingArticles</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'OOPS: '</span> <span class="token operator">+</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// this should be a huge string that looks like &lt;foo>bar&lt;/foo>&lt;bazz>buzz&lt;/bazz>&lt;fuzz>wuzz&lt;/fuzz>...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>You can run this file by executing <code class="language-text">node testHw2.js</code>. Make sure that this component of the homework works before moving on.</p>
<hr>
<h2>Part 2: Parsing metadata with sax.js</h2>
<p><strong><code class="language-text">countKeywords.js</code></strong></p>
<p>The article metadata we just grabbed is formatted in XML, a markup language consisting of nested tags very similar to HTML. In a nutshell, XML describes data, in this case information about NYT articles, in a standardized, machine-readable form.</p>
<p><a href="http://www.w3schools.com/xml/xml_whatis.asp">Here</a> is a short and sweet explanation of XML, and <a href="http://www.w3schools.com/xml/simple.xml">this</a> is an example of an XML file. If you haven't seen XML before, <strong>read these before continuing.</strong></p>
<p>Now, our next task is to find article keywords and keep track of how many times they show up. Luckily, there's a node in each article's XML containing a list of its keywords: <code class="language-text">ADX_KEYWORDS</code>. Its text field might look something like this:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Forests and Forestry;Firearms;Federal Lands;Hikes and Hiking;National Rifle Assn;Colorado;Utah</code></pre></div>
<p>Note how each keyword is separated by a semicolon.</p>
<p>How do we extract this information? That's where <a href="https://www.npmjs.com/package/sax">sax</a> comes in. The sax parser will read in an XML document and provide callback hooks for events that occur during parsing. We need to define these events appropriately to extract the information we need.</p>
<p>The parser events we're interested in are the following:</p>
<ul>
<li><code class="language-text">onerror</code>: an error occurred; call the callback with the error</li>
<li><code class="language-text">onopentag</code>: parsed an opening tag for a node, like <code class="language-text">&lt;title&gt;</code>. The argument <code class="language-text">node</code> given <code class="language-text">onopentag</code> is an object that contains a field called <code class="language-text">name</code>. <code class="language-text">node.name</code> will be something like <code class="language-text">title</code>. (This makes sense if you look at the code.)</li>
<li><code class="language-text">onclosetag</code>: parsed a closing tag for a node, like <code class="language-text">&lt;/title&gt;</code></li>
<li><code class="language-text">ontext</code>: parsed some text within a node</li>
<li><code class="language-text">onend</code>: finished parsing the document</li>
</ul>
<p>Here's an example of SAX in action, parsing a (somewhat simplified) version of the XML from the New York Times. You'll see that as SAX encounters tags and text, it calls the appropriate event with the corresponding argument.</p>
<p><img src="/images/sax-animation/sax-demo.gif" alt="sax parsing animation"></p>
<p>While parsing, you'll need some sort of updatable data structure to keep track of keywords as they appear and their frequencies (using an object as a dictionary is a good approach here). After parsing finishes, your <code class="language-text">onend</code> method should find the five keywords that appeared the most. An elegant approach, although not the only way, is to create an array from the keywords and use JavaScript's <code class="language-text">Array.sort()</code>, passing in a comparator function.</p>
<p>I've already provided a skeleton of what the parser should look like; just fill in the provided methods. Hint: We only care about what's between <code class="language-text">&lt;ADX_KEYWORDS&gt;</code> tags.</p>
<p><strong>TODO:</strong> Write <code class="language-text">countKeywords</code>. It should parse the metadata XML and pass an array containing the five most frequently used keywords, <em>in descending order of popularity</em>, to its callback. You should probably use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort">Array.sort</a> to sort the array!</p>
<p><strong>NOTE</strong>: Sometimes the keywords have trailing whitespace. You can use the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/Trim">trim method</a> to get rid of this before adding them to your data structure. Another useful method is <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split">split</a>, which splits a string along a separator character. This will make it a lot easier to deal with the text in ADX_KEYWORDS, once you isolate it.</p>
<p>To test the function, update your test file to now import countKeywords.js and console.log the expected results. here is what your test file should be (note from here on out, we won't give you test file but will give expected output at every step):</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">var</span> pullTrendingArticles <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./pullTrendingArticles'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> countKeywords  <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./countKeywords'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">pullTrendingArticles</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//console.log(response);</span>

  <span class="token function">countKeywords</span><span class="token punctuation">(</span>response<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">cKerror<span class="token punctuation">,</span> topKeywords</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cKerror<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>topKeywords<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>Make sure that this component of the homework works before moving on.</p>
<p>Output should look something like this:</p>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh">request processed
null
null
[ &#39;United States Politics and Government&#39;,
  &#39;Trump, Donald J&#39;,
  &#39;Midterm Elections (2018)&#39;,
  &#39;Williams, Serena&#39;,
  &#39;Republican Party&#39; ]</code></pre></div>
<hr>
<h2>Part 3: Finding related articles</h2>
<p><strong><code class="language-text">pullRelatedArticles.js</code></strong></p>
<p>We now have an array containing five trending keyword strings sorted by popularity. For now, let's focus on finding the related articles for a single entry in the array. We'll once again be using request.js, but this time, we'll query the <a href="http://developer.nytimes.com/docs/read/article_search_api_v2">Search API</a> with our keyword string.</p>
<p><strong>TODO:</strong> Write <code class="language-text">pullRelatedArticles</code>. This function takes in a query and a callback, and uses the request library to grab the data.</p>
<p>We want article metadata from the 10 (that's the default) most <em>recent</em> articles that show up as search results for our query. This time, the response format will be JSON, <em>not XML</em>. After checking for any errors or inappropriate status codes, you should pass to the callback an object containing two fields: <code class="language-text">query</code>, with the query you used, and <code class="language-text">JSON</code>, with the response's <code class="language-text">body</code>.</p>
<p>We can't quite pass in the array of all the popular keywords we got from the last function (countKeywords) to test this. However for testing, you can do a call like</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">pullRelatedArticles</span><span class="token punctuation">(</span><span class="token string">'Williams, Serena'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>you put <span class="token keyword">in</span> args here<span class="token operator">...</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token keyword">do</span> what you need to here
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>Ultimately an output of pullRelatedArticles should give to its callback something like the following result (if there are no errors):</p>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh">{ query: &#39;United States Politics and Government&#39;,
  JSON: &#39;{&quot;status&quot;:&quot;OK&quot;,&quot;copyright&quot;:&quot;Copyright (c) 2018 The New York Times Company. All Rights Reserved.&quot;,&quot;response&quot;:{&quot;docs&quot;:[{&quot;web_url&quot;:&quot;https://www.nytimes.com/reuters/2018/09/11/world/europe/11reuters-spain-politics-catalonia-explainer.html&quot;,&quot;snippet&quot;:&quot;At the height of the crisis over Catalonia\&#39;s secession drive last year, thousands of companies moved their legal headquarters out of the region, the Madrid stock market and government ... }</code></pre></div>
<hr>
<h2>Part 4: Streamlining callbacks with async.js</h2>
<p><strong><code class="language-text">processKeywords.js</code></strong></p>
<p>It would be pretty convenient if you could apply the <code class="language-text">pullRelatedArticles</code> method you just wrote to each entry in the keyword array. Well, the asyncJS library allows you to <a href="https://caolan.github.io/async/docs.html#map">do just that</a> in a single line of code. We want to map each keyword we obtained from the previous step through pullRelatedArticles to create a new array containing related articles for each keyword.</p>
<p>For example, we might have the keywords <code class="language-text">[&#39;Williams, Serena&#39;, &#39;B, Taras&#39;]</code>. Then, the callback should be called with an array that looks like this <code class="language-text">[{articles_related_to_serena}, {articles_related_to_taras}]</code>.</p>
<p><strong>TODO:</strong> Write <code class="language-text">processKeywords</code>.</p>
<p><em>Note:</em> In order to understand the <code class="language-text">map</code> how this function works, it's essential to read the provided documentation, linked <a href="https://caolan.github.io/async/docs.html#map">here</a>.</p>
<p>Update <code class="language-text">testHw2.js</code> to look like this:</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token function">pullTrendingArticles</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;- this is just the general trending articles responses</span>

  <span class="token function">countKeywords</span><span class="token punctuation">(</span>response<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> topKeywords</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>topKeywords<span class="token punctuation">)</span> <span class="token comment">// &lt;- this is the top keywords parsed out of those trending artilces</span>

    <span class="token function">processKeywords</span><span class="token punctuation">(</span>topKeywords<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> rel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rel<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;- this is an array of (large) JSON objects (each of which contains a bunch of articles for each keyword from the previous step</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div>
<p>Make sure that this component of the homework works before moving on.</p>
<hr>
<h2>Part 5: Putting it all together</h2>
<p><strong><code class="language-text">getTrendingKeywords.js</code></strong></p>
<p>We're almost done - now we just have to link all the methods we wrote together. With so many callbacks involved, it's easy for our code to get messy. The async library has another good solution, in the form of the <a href="https://github.com/caolan/async#waterfall">waterfall</a> control flow function.</p>
<p>Using <code class="language-text">waterfall</code> is optional. Any code that successfully weaves together the callbacks is fine, although a waterfall implementation is highly recommended because it's simply better style than marching callbacks.</p>
<p><strong>TODO:</strong> Write <code class="language-text">getTrendingKeywords</code>. The provided method, <code class="language-text">displayRelatedArticles</code>, will be passed in as the callback argument. Remember that you'll need to call the wrapper functions you wrote in Parts 1 and 4 with API key arguments to obtain the actual functions.</p>
<hr>
<h2>Submitting to Gradescope</h2>
<p>Run <code class="language-text">gulp zip</code> and submit the <code class="language-text">files.zip</code> file that's made. On gradescope submit all the files that gets outputted on the upload interface.</p>
<p><img src="https://i.imgur.com/kXJEg0b.png" alt="Gradescope submit"></p></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/assignments/2";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-5a45acf311b2d71255d9.js"],"component---src-templates-markdown-js":["/component---src-templates-markdown-js-6312d8383cbe8dfd04c0.js"],"component---src-pages-404-js":["/component---src-pages-404-js-1ef51870ab92464737dc.js"],"component---src-pages-assignments-js":["/component---src-pages-assignments-js-57bdb2923c8e8a2747df.js"],"component---src-pages-lectures-js":["/component---src-pages-lectures-js-84e481f7f13ecd6752cd.js"],"component---src-pages-staff-js":["/component---src-pages-staff-js-8f7aca195e0d0ac5592b.js"]};/*]]>*/</script><script src="/webpack-runtime-5ccb39dae77b0d8e075c.js" async=""></script><script src="/framework-e43bc979b16dd68f6b5c.js" async=""></script><script src="/styles-36681512479a843831b0.js" async=""></script><script src="/commons-71c840ee6062b3cdadb9.js" async=""></script><script src="/component---src-templates-markdown-js-6312d8383cbe8dfd04c0.js" async=""></script><script src="/app-5a45acf311b2d71255d9.js" async=""></script></body></html>