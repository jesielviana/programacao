{"componentChunkName":"component---src-templates-markdown-js","path":"/lectures/14","result":{"data":{"markdownRemark":{"html":"<p>class: center, middle, block-text</p>\n<h1>Lecture 14</h1>\n<h2>React Native</h2>\n<hr>\n<p>class: x-large</p>\n<h1>Agenda</h1>\n<ol>\n<li>What is React Native?</li>\n<li>Developing in React Native</li>\n<li>CRA and CRNA</li>\n</ol>\n<hr>\n<p>class: center, middle, block-text</p>\n<h1>What is React Native?</h1>\n<hr>\n<p>class: med-large</p>\n<h1>The React Native framework</h1>\n<ul>\n<li>As a framework, React Native promises the impossible: the ability to build native mobile apps <em>using JavaScript and React!</em></li>\n<li>With React Native, you don't build a “mobile web app”, an “HTML5 app”, or a “hybrid app”. You build a real mobile app that's indistinguishable from an app built using Objective-C, Swift or Java.</li>\n<li>React Native uses the same fundamental UI building blocks as regular iOS and Android apps, put together using JavaScript and React. *</li>\n<li>Created to attract more web developers to create applications and experiences for mobile.</li>\n</ul>\n<p>.footnote[* This lecture covers React Native iOS applications only.]</p>\n<hr>\n<p>class: center, middle, block-text</p>\n<h1>Developing in React Native</h1>\n<h2>Option 1: Xcode</h2>\n<hr>\n<p>class: med-large</p>\n<h1>React Native iOS Setup</h1>\n<p>Install <a href=\"https://facebook.github.io/watchman\">Watchman</a> through Homebrew to enable hot-reloading during development.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">brew <span class=\"token function\">install</span> watchman</code></pre></div>\n<p>Install the React Native CLI to control your project from the command line.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g react-native-cli</code></pre></div>\n<p>Install the latest version of Xcode from the <a href=\"https://itunes.apple.com/us/app/xcode/id497799835?mt=12\">Mac App Store</a>. You will also need to ensure this comes with the Xcode Command Line Tools package.</p>\n<hr>\n<p>class: med-large</p>\n<h2>Using the CLI</h2>\n<p>Once everything is installed, you can create a barebones iOS or Android application using the React Native CLI. The following commands create a new React Native starter project and build &#x26; deploy the base application <strong>for Android/iOS separately</strong>.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">react-native init TestApp\n<span class=\"token builtin class-name\">cd</span> TestApp\n\n<span class=\"token comment\"># building for iOS</span>\nreact-native run-ios\n\n<span class=\"token comment\"># building for Android</span>\nreact-native run-android</code></pre></div>\n<p>Running for iOS will pull up a live preview of the application in the Xcode iOS simulator as if it were opened on a mobile device.</p>\n<hr>\n<p>class: med</p>\n<h2>Making Changes</h2>\n<img src=\"https://facebook.github.io/react-native/img/iOSSuccess.png\" style=\"float: left\">\n<p><code class=\"language-text\">react-native run-ios</code> runs the application in an interactive simulator within Xcode.</p>\n<p>To make changes, edit the default root file for the React Native iOS project: <code class=\"language-text\">index.ios.js</code>.</p>\n<p>Hitting <code class=\"language-text\">Command + R</code> within the simulator or re-building the project from within Xcode will update your application.</p>\n<p>Logs from the application also show up inside the simulator, along with any system crash reports.</p>\n<hr>\n<p>class: med, smaller-code</p>\n<h2>Hello World!</h2>\n<p>Inside <code class=\"language-text\">index.ios.js</code> we can swap back to JS and write an iOS application in React!</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>Text<span class=\"token punctuation\">,</span> AppRegistry<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-native'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">TestApp</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>Text<span class=\"token operator\">></span>Hello<span class=\"token punctuation\">,</span> React<span class=\"token operator\">!</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Text<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nAppRegistry<span class=\"token punctuation\">.</span><span class=\"token function\">registerComponent</span><span class=\"token punctuation\">(</span><span class=\"token string\">'TestApp'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> TestApp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<p>class: med, smaller-code</p>\n<h2>So what's new?</h2>\n<p><strong>No more DOM</strong>! Since we're now developing for mobile environments, we no longer have DOM node elements to render our Components into. Retaining the tag-based hierarchial structure of our favorite tree, we now render into custom React Native elements, like <code class=\"language-text\">Text</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">TestApp</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>Text<span class=\"token operator\">></span>Hello<span class=\"token punctuation\">,</span> React<span class=\"token operator\">!</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Text<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The top most Component needs to be <em>registered</em> with the <code class=\"language-text\">AppRegistry</code> so that build system knows which component to mount when the app starts.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">AppRegistry<span class=\"token punctuation\">.</span><span class=\"token function\">registerComponent</span><span class=\"token punctuation\">(</span><span class=\"token string\">'TestApp'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> TestApp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<p>class: small, smaller-code</p>\n<h2>What about writing native code?</h2>\n<p>Inside the header file for your native module:</p>\n<div class=\"gatsby-highlight\" data-language=\"objective-c\"><pre class=\"language-objective-c\"><code class=\"language-objective-c\">// React bridge protocol!\n#import &lt;React/RCTBridgeModule.h&gt;\n\n@interface CalendarManager : NSObject &lt;RCTBridgeModule&gt;\n@end</code></pre></div>\n<p>And inside the module itself:</p>\n<div class=\"gatsby-highlight\" data-language=\"objective-c\"><pre class=\"language-objective-c\"><code class=\"language-objective-c\">#import &quot;CalendarManager.h&quot;\n#import &lt;React/RCTLog.h&gt;\n\n@implementation CalendarManager\n\nRCT_EXPORT_MODULE(); /* export to js via React bridge! */\n\nRCT_EXPORT_METHOD(addEvent:(NSString *)name\n{\n  RCTLogInfo(@&quot;Created event %@!&quot;, name);\n}</code></pre></div>\n<hr>\n<p>class: med, smaller-code</p>\n<h2>Using native modules in React Native</h2>\n<p>Now that we've exported the <code class=\"language-text\">CalendarManager</code> native module via the React Bridge Protocol, we can access and treat it like a normal JS module inside our application!</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NativeModules <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-native'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> CalendarManager <span class=\"token operator\">=</span> NativeModules<span class=\"token punctuation\">.</span>CalendarManager<span class=\"token punctuation\">;</span>\n\nCalendarManager<span class=\"token punctuation\">.</span><span class=\"token function\">addEvent</span><span class=\"token punctuation\">(</span><span class=\"token string\">'CIS 197 - React Native Lecture'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// -> Created event CIS 197 - React Native Lecture!</span></code></pre></div>\n<p>Mixing and matching native modules is a very powerful feature of React Native, which allows you to write convenient and easy to read JavaScript for majority of your application and swap in more powerful Objective-C or C++ modules when the need arises.</p>\n<p>There are a lot of experimental features in this area, like bridging callbacks, promises and thread management. Read more in the <a href=\"https://facebook.github.io/react-native/docs/native-modules-ios.html\">native modules official docs</a>.</p>\n<hr>\n<p>class: center, middle, block-text</p>\n<h1>Developing in React Native</h1>\n<h2>Option 2: No Xcode?!</h2>\n<hr>\n<p>class: med-large</p>\n<h2>A Brief Aside - CRA</h2>\n<p>Getting set up with React and all the tools/infrastructure can be a non-trivial task. However, the fine folks over at Facebook open sourced <a href=\"https://github.com/facebookincubator/create-react-app\">Create React App</a> which sets up an entire React application for you in 3 lines of code!</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># instally globally once</span>\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g create-react-app\n\ncreate-react-app my-react-webapp\n<span class=\"token builtin class-name\">cd</span> my-react-webapp\n<span class=\"token function\">npm</span> start</code></pre></div>\n<ul>\n<li>Auto deploys to <a href=\"http://localhost:3000/\">http://localhost:3000/</a></li>\n<li>Transpiles ES6 code using Babel Webpack</li>\n<li>NPM/Yarn scripts for building and testing</li>\n<li>Industry standard configurations and build systems.</li>\n</ul>\n<hr>\n<p>class: med-large</p>\n<h2>A Brief Aside - CRA</h2>\n<p>Bootstrapping your project with CRA provides you with the following project directory...</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">my-react-webapp/\n  README.md     <span class=\"token comment\"># stub README</span>\n  index.html    <span class=\"token comment\"># barebones starter page</span>\n  node_modules/ <span class=\"token comment\"># **already installed!**</span>\n  package.json   \n  src/\n    App.css\n    App.js\n    index.css\n    index.js</code></pre></div>\n<hr>\n<p>class: med-large</p>\n<h2>A Brief Aside - CRA</h2>\n<p>...and a very minimal <code class=\"language-text\">package.json</code> file.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">{</span>\n   <span class=\"token string\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"my-react-webapp\"</span><span class=\"token punctuation\">,</span>\n   <span class=\"token string\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0.0.1\"</span><span class=\"token punctuation\">,</span>\n   <span class=\"token string\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token string\">\"react-scripts\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0.1.0\"</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n   <span class=\"token string\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token string\">\"react\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^15.2.1\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token string\">\"react-dom\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^15.2.1\"</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n   <span class=\"token string\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token string\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts start\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token string\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts build\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token string\">\"eject\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts eject\"</span>\n   <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<p>class: med-large</p>\n<h2>Create React Native App (CRNA)</h2>\n<p>Create React App was <strong>so successful</strong> that <a href=\"https://github.com/react-community/create-react-native-app\">Create React Native App</a> was born (in March 2017). Along with just bootstrapping your project set up, CRNA attempts to make your development workflow more streamlined than ever before.</p>\n<p>Make sure you have Node 6 or later installed. <em>No Xcode or Android Studio installation is required</em>.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g create-react-native-app\n$ create-react-native-app my-app\n$ <span class=\"token builtin class-name\">cd</span> my-app/\n$ <span class=\"token function\">npm</span> start</code></pre></div>\n<p>Powered by a magical application called <a href=\"https://expo.io\">Expo</a>. Download it now!</p>\n<hr>\n<p>class: med</p>\n<h2>Instant pairing and hot reloading!</h2>\n<img src=\"http://tc.sinaimg.cn/maxwidth.2048/tc.service.weibo.com/upload_images_jianshu_io/80bb6da0b0b80f98b97badf7bf87dac9.gif\" style=\"width: 85%; display: block; margin: auto;\">\n<hr>\n<p>class: med-large</p>\n<h2>React Native</h2>\n<p>Part of a venture to make React a <em>universal</em> framework and design philosophy for building applications on all platforms.</p>\n<p>When you write a mobile application you're writing an application using a React-based mindset, and this is automatically transpiled down into the correct low-level code needed for either iOS or Android.</p>\n<h4>Q: What does it take to become a React Native developer?</h4>\n<p><em>Understanding React as a framework. QED, you're all already React Native developers!</em></p>\n<hr>\n<p>class: center, middle, block-text</p>\n<h1>Let's get building!</h1>\n<hr>\n<p>class: med, smaller-code</p>\n<h2>JSX in React Native</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AppRegistry<span class=\"token punctuation\">,</span> Text<span class=\"token punctuation\">,</span> View <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-native'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">BasicApp</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>View<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Text<span class=\"token operator\">></span>Hello<span class=\"token punctuation\">,</span> React<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Text<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>View<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nAppRegistry<span class=\"token punctuation\">.</span><span class=\"token function\">registerComponent</span><span class=\"token punctuation\">(</span><span class=\"token string\">'BasicApp'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> BasicApp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">View</code> and <code class=\"language-text\">Text</code> are React Components that have been packaged and made available to you (along with many others) in React Native. They can be used independently of the platform you're developing for! Read more about them in the <a href=\"https://facebook.github.io/react-native/docs/view.html\">official docs</a>.</p>\n<hr>\n<p>class: med, smaller-code</p>\n<h2>Style in React Native</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> StyleSheet<span class=\"token punctuation\">,</span> Text<span class=\"token punctuation\">,</span> View <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-native'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">LotsOfStyles</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>View<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Text style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>styles<span class=\"token punctuation\">.</span>bigblue<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>Big Blue Text<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Text<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>View<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> styles <span class=\"token operator\">=</span> StyleSheet<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  bigblue<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    color<span class=\"token operator\">:</span> <span class=\"token string\">'blue'</span><span class=\"token punctuation\">,</span>\n    fontSize<span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><a href=\"https://facebook.github.io/react-native/docs/style.html\"><code class=\"language-text\">Stylesheets</code></a> let you decorate, align and beautify elements in pure JS!</p>\n<hr>\n<p>class: med, smaller-code</p>\n<h2>Text Input in React Native</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> TextInput<span class=\"token punctuation\">,</span> Text<span class=\"token punctuation\">,</span> View <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-native'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">InputApp</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>View<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>TextInput onChangeText<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">onUpdate</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Text<span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>inputText<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Text<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>View<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">onUpdate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">updatedText</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>inputText<span class=\"token operator\">:</span> updatedText<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><a href=\"https://facebook.github.io/react-native/docs/style.html\"><code class=\"language-text\">TextInputs</code></a> come with the <code class=\"language-text\">onChangeText</code> prop which lets you hook into changes to the input box. Passing in updated text to <code class=\"language-text\">setState</code> lets your app update seamlessly.</p>\n<hr>\n<p>class: med, smaller-code</p>\n<h2>Touch Input in React Native</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> TouchableHighlight<span class=\"token punctuation\">,</span> Text<span class=\"token punctuation\">,</span> View <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-native'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">TouchInputApp</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>View<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>TouchableHighlight onPress<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>onPress<span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Text<span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>inputText<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Text<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>View<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">onPress</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Button tapped!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><a href=\"https://facebook.github.io/react-native/docs/handling-touches.html\"><code class=\"language-text\">TouchableHighlight</code></a> come with the <code class=\"language-text\">onPress</code> prop which tell you when the user taps or touches an element in the app.</p>\n<hr>\n<p>class: large</p>\n<h2>Tech Stacks and React Native</h2>\n<p>React Native allows you to use existing skills in web development to create new types of <em>clients</em> for your tech stack - mobile devices.</p>\n<p>Apps built in React Native should integrate <strong>seamlessly</strong> into existing tech stacks. You can connect them to Express servers, online APIs and all existing server side infrastructure that any web client can access!</p>\n<hr>\n<p>class: med-large, smaller-code</p>\n<h2>Communicating Via HTTP</h2>\n<p>React Native provides the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\">Fetch API</a> for your networking needs which is a futuristic version of XMLHttpRequest from the web browser. Fetches are wrapped in <code class=\"language-text\">Promises</code> and can be used as follows:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">getGradesFromApiAsync</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://cis197.com/api/grades.json'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\">// convert response to JSON and chain to next handler</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\">// only return the grades section of the JSON</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">responseJson</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> responseJson<span class=\"token punctuation\">.</span>grades<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\">// catch and log any networking related errors</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<p>class: med-large, smaller-code</p>\n<h2>Communicating Via WebSockets</h2>\n<p>React Native also comes bundled with WebSocket support, for full-duplex communication! Remember Socket.io?</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> ws <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">WebSocket</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ws://cis197.com/realtimechat'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nws<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onopen</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  ws<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello real time world!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// send a message</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nws<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onmessage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// a message was received</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nws<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onerror</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nws<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onclose</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>code<span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">.</span>reason<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<p>class: large</p>\n<h2>Looking Forward</h2>\n<p>React Native is becoming hugely popular for developers of all spheres. It's easy to use, has low overhead and an amazing open source community surrounding it.</p>\n<p>Check out the <a href=\"https://facebook.github.io/react-native/showcase.html\">React Native Showcase</a> and read user stories to see how it's changing the way mobile development works from the ground up.</p>","frontmatter":{"date":"January 29, 2019","path":"/lectures/14","title":"React Native","metaTitle":null}}},"pageContext":{}}}